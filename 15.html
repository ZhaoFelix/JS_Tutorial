<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      匿名函数和闭包
    </title>
  </head>
  <script type="text/javascript">
    //把匿名函数赋值给变量

     var box = function() {
      return 'Felix';
    };
    console.log(box());
    //通过自我执行来执行匿名函数
    //(匿名函数)();第一个括号放匿名函数，第二个括号表示函数执行
    (function(){
      return 'Felix';
    })();

    //将匿名函数执行的返回值赋值给变量
    var test = (function() {
      return 'Flie'
    })();
    console.log(test);
    //函数里面放一个匿名函数
    function func(){
      //闭包
      return function(){
        return 'Felix'
      }
    }
    console.log(func()() );

    //通过闭包返回局部变量
    function pr(){
      var age = 100;
      return function(){
        return age;
      }
    }
    console.log(pr()());
   /*
    //普通方法返回局部变量
   function pr(){
   var age = 100;
   return age;
 }
   */


   //使用全局变量进行累加累加
   var ageS = 100;
   function sum() {
     ageS ++;
   }
   sum();
   console.log(ageS);


   //使用局部变量进行累加
   function sum2() {
     var age = 100;
     age ++;
     return age;
   }
   console.log('局部变量进行类加'+sum2());

   //使用匿名函数实现局部变量驻留内存中进行累加
   function sum3(){
     var age = 100;
     return function(){
       age++;
       return age;
     };
   }

   var b = sum3();
   for (var i = 0; i < 10; i++) {
     console.log('匿名函数： '+b());
   }
   b = null;//解除引用，等待回收
   

  </script>
  <body>

  </body>
</html>
